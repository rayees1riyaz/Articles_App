<h1 class="page-title">üìù All Articles</h1>

<div class="articles-grid">
  <% @articles.each do |article| %>
    <div class="article-card">
      
      <!-- User Info -->
      <% if article.user %>
        <div class="user-info">
          <div class="user-avatar"><%= article.user.name[0].upcase %></div>
          <%= link_to article.user.name, user_path(article.user), class: "user-link" %>
        </div>
      <% end %>

      <!-- Article Content -->
      <div class="article-content">
        <h2 class="article-title"><%= article.name %></h2>
        <p class="article-desc"><%= article.description %></p>
      </div>

      <!-- Actions -->
      <div class="article-actions">
        <%= link_to "üëÅ Show", article_path(article), class: "action-link show-link" %>
        <% if logged_in? && article.user == current_user %>
          <div>
            <%= link_to "‚úèÔ∏è Edit", edit_article_path(article), class: "action-link edit-link" %>
            <%= link_to "üóë Delete", article_path(article), 
                        data: { turbo_method: :delete, turbo_confirm: "Are you sure?" }, 
                        class: "action-link delete-link" %>
          </div>
        <% end %>
      </div>
    </div>
  <% end %>
</div>

<!-- Pagination -->
<div class="pagination-container">
  <%= will_paginate @articles %>
</div>

<!-- New Article Button -->
<div class="new-article-btn">
  <%= link_to "‚ûï New Article", new_article_path, class: "new-article-link" %>
</div>
