<h1><%= @user.name %> - Details</h1>

<p><strong>User ID:</strong> <%= @user.id %></p>
<p><strong>Username:</strong> <%= @user.name %></p>
<%if logged_in? && @user == current_user%>
<p><strong>Email:</strong> <%= @user.email %></p>



  <%= link_to "<i class='fas fa-pencil-alt'></i> Edit".html_safe, edit_user_path(@user), class: "action-link" %> 
  <%end%>
<h2>Articles by <%= @user.name %>:</h2>

<% if @articles.any? %>
  <table>
    <thead>
      <tr>
        <th>Title</th>
        <th>Description</th>
        <th>Actions</th>
      </tr>
    </thead>

    <tbody>
      <% @articles.each do |article| %>
        <tr>
          <td data-label="Title"><%= article.name %></td>
          <td data-label="Description"><%= article.description %></td>
          <td data-label="Actions">
            <%= link_to "<i class='fas fa-eye'></i> Show".html_safe, article_path(article), class: "action-link" %> 
            <% if logged_in? && article.user == current_user%>
            <%= link_to "<i class='fas fa-pencil-alt'></i> Edit".html_safe, edit_article_path(article), class: "action-link" %> |
            <%= link_to article_path(article), 
                        data: { turbo_method: :delete, turbo_confirm: "Are you sure?" }, 
                        class: "delete-link" do %>
              <i class="fas fa-trash"></i> Delete
              <%end%>
            <% end %>
          </td>
        </tr>

      <% end %>
    </tbody>
            
  </table>
  <br>

<% else %>
  <p>No articles found for this user. <%= link_to "<i class='fas fa-plus'></i> Create New Article".html_safe, new_article_path %></p>
<% end %>
<%= link_to "<i class='fas fa-plus'></i> All Articles".html_safe, articles_path, class: "new-article-link" %>